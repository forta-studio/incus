# Copy to .env.production on the Droplet and fill in real values.
# Do not commit .env.production.

# -----------------------------------------------------------------------------
# Database (Managed PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require

# -----------------------------------------------------------------------------
# Redis (Managed Redis/Valkey)
# -----------------------------------------------------------------------------
REDIS_URL=rediss://default:PASSWORD@HOST:PORT
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Storage (DigitalOcean Spaces). Use CDN base for public URLs.
# Endpoint: https://<region>.digitaloceanspaces.com
# Public URL (CDN): https://<bucket>.<region>.cdn.digitaloceanspaces.com
# -----------------------------------------------------------------------------
STORAGE_ENDPOINT=https://nyc3.digitaloceanspaces.com
STORAGE_REGION=nyc3
STORAGE_ACCESS_KEY=your_spaces_access_key
STORAGE_SECRET_KEY=your_spaces_secret_key
STORAGE_BUCKET_IMAGES=incus-prod
STORAGE_BUCKET_AUDIO=incus-prod
STORAGE_BUCKET_DOWNLOADS=incus-prod
STORAGE_PUBLIC_URL=https://incus-prod.nyc3.cdn.digitaloceanspaces.com

# -----------------------------------------------------------------------------
# API key (backend). Use a long random string. Frontend proxy uses the same.
# -----------------------------------------------------------------------------
API_KEY=your_secure_random_api_key

# -----------------------------------------------------------------------------
# App URLs (public origin for CORS, redirects, emails)
# -----------------------------------------------------------------------------
FRONTEND_URL=https://yourdomain.com

# -----------------------------------------------------------------------------
# Session secret (long random string for signing session cookies)
# -----------------------------------------------------------------------------
SESSION_SECRET=your_secure_random_session_secret

# -----------------------------------------------------------------------------
# Email - Use Resend on Digital Ocean (SMTP ports are blocked on Droplets)
# Set MAIL_PROVIDER=resend and add MAIL_RESEND_API_KEY to use Resend's HTTPS API.
# For local dev, omit these and MailHog (SMTP) will be used instead.
# -----------------------------------------------------------------------------
MAIL_PROVIDER=resend
MAIL_RESEND_API_KEY=re_YuAMSHNr_3unu5PVMRD4d6q92WmdDe1Lx
MAIL_FROM="Incus Records <info@incusrecords.com>"

# SMTP (only used when MAIL_PROVIDER is not "resend" - e.g. local dev with MailHog)
# MAIL_HOST=localhost
# MAIL_PORT=1025
# MAIL_SECURE=false
# MAIL_USER=
# MAIL_PASS=

# -----------------------------------------------------------------------------
# Next.js API proxy (backend URL as seen from frontend container)
# Same API_KEY as above so the proxy can call the backend.
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_BASE_URL=http://backend:3001
NEXT_PUBLIC_API_KEY=same_value_as_API_KEY_above
